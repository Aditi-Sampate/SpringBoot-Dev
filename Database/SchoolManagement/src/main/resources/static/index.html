<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Management Panel</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
        }
        .page { display: none; }
        .active { display: block; }
        .msg {
            animation: fade 0.3s ease-in-out;
        }
        @keyframes fade {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .card {
            background: white;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.15);
        }
    </style>
    <script>
        function openPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
        }

        async function addData(type) {
            const formData = new URLSearchParams();
            formData.append("id", document.getElementById(type + "_id").value);
            formData.append("name", document.getElementById(type + "_name").value);
            if (type === "teacher") {
                formData.append("address", document.getElementById(type + "_address").value);
                formData.append("subject", document.getElementById(type + "_subject").value);
            }
            if (type === "student") {
                formData.append("course", document.getElementById(type + "_course").value);
                formData.append("div", document.getElementById(type + "_div").value);
            }
            if (type === "staff") {
                formData.append("address", document.getElementById(type + "_address").value);
            }
            const res = await fetch(type + "/add", { method: "POST", body: formData });
            const msg = await res.text();
            document.getElementById(type + "_msg").innerHTML = msg;
        }

        async function getData(type) {
            const id = document.getElementById(type + "_get_id").value;
            const res = await fetch(type + "/" + id);
            if (!res.ok) {
                document.getElementById(type + "_get_result").innerHTML = "<p class='text-red-600 font-semibold'>No Data Found!</p>";
                return;
            }
            const data = await res.json();
            let html = `<div class='p-3 bg-gray-100 rounded msg'>
                <p><b>ID:</b> ${data.id}</p>
                <p><b>Name:</b> ${data.name}</p>`;
            if (type === "teacher") html += `<p><b>Address:</b> ${data.address}</p><p><b>Subject:</b> ${data.subject}</p>`;
            if (type === "student") html += `<p><b>Course:</b> ${data.course}</p><p><b>Division:</b> ${data.div}</p>`;
            if (type === "staff") html += `<p><b>Address:</b> ${data.address}</p>`;
            html += "</div>";
            document.getElementById(type + "_get_result").innerHTML = html;
        }

        async function deleteData(type) {
            const id = document.getElementById(type + "_delete_id").value;
            const res = await fetch(type + "/" + id, { method: "DELETE" });
            const msg = await res.text();
            document.getElementById(type + "_delete_msg").innerHTML = msg;
        }
    </script>
</head>
<body class="bg-gradient-to-r from-purple-200 via-blue-100 to-green-200 min-h-screen flex flex-col items-center p-10">

    <!-- HOME PAGE -->
    <div id="home" class="page active text-center w-full max-w-4xl">
        <h1 class="text-4xl font-extrabold mb-6 text-gray-800">School Management Dashboard</h1>

		<!-- INFORMATION SECTION -->
		        <div class="mb-8 p-5 bg-white rounded shadow-md text-gray-700 text-left">
		            <p class="mb-2">Manage your Teachers, Students, and Staff efficiently from this dashboard.</p>
		            <p class="mb-1">Quick access to add, view, and delete records in your system.</p>
		            <p class="text-sm text-gray-500">All data updates are reflected immediately without page reloads.</p>

		            <p class="text-gray-500 text-sm mt-2">Tip: Click the buttons below to navigate to respective management sections.</p>
		        </div>
				
        <!-- IMAGE SECTION -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
            <div class="bg-white p-4 rounded shadow">
                <img src="https://cdn-icons-png.flaticon.com/512/3899/3899618.png" class="h-32 mx-auto" alt="Teacher">
                <h3 class="font-bold mt-2 text-gray-700">Teacher</h3>
            </div>
            <div class="bg-white p-4 rounded shadow">
                <img src="https://cdn-icons-png.flaticon.com/512/201/201818.png" class="h-32 mx-auto" alt="Student">
                <h3 class="font-bold mt-2 text-gray-700">Student</h3>
            </div>
            <div class="bg-white p-4 rounded shadow">
                <img src="https://cdn-icons-png.flaticon.com/512/2920/2920255.png" class="h-32 mx-auto" alt="Staff">
                <h3 class="font-bold mt-2 text-gray-700">Staff</h3>
            </div>
        </div>

      

        <div class="flex flex-col md:flex-row justify-center gap-6">
            <button onclick="openPage('teacherPage')" class="w-48 p-3 bg-blue-500 hover:bg-blue-600 text-white rounded shadow-lg transition">Teacher</button>
            <button onclick="openPage('studentPage')" class="w-48 p-3 bg-green-500 hover:bg-green-600 text-white rounded shadow-lg transition">Student</button>
            <button onclick="openPage('staffPage')" class="w-48 p-3 bg-purple-500 hover:bg-purple-600 text-white rounded shadow-lg transition">Staff</button>
        </div>
    </div>

    <!-- MANAGEMENT PAGE TEMPLATE -->
    <script>
        function createManagementPage(type, color) {
            return `
            <div id="${type}Page" class="page w-full max-w-6xl">
                <button onclick="openPage('home')" class="text-blue-600 underline mb-5">â¬… Back</button>
                <h2 class="text-3xl font-bold mb-8 text-center text-gray-800">${type.charAt(0).toUpperCase() + type.slice(1)} Management</h2>
                <div class="flex flex-col md:flex-row gap-6 justify-center">
                    
                    <!-- ADD -->
                    <div class="card flex-1">
                        <h3 class="font-bold text-lg mb-3">Add ${type.charAt(0).toUpperCase() + type.slice(1)}</h3>
                        <input id="${type}_id" class="p-2 border w-full mb-2 rounded" placeholder="ID">
                        <input id="${type}_name" class="p-2 border w-full mb-2 rounded" placeholder="Name">
                        ${type === 'teacher' ? '<input id="teacher_address" class="p-2 border w-full mb-2 rounded" placeholder="Address"><input id="teacher_subject" class="p-2 border w-full mb-2 rounded" placeholder="Subject">' : ''}
                        ${type === 'student' ? '<input id="student_course" class="p-2 border w-full mb-2 rounded" placeholder="Course"><input id="student_div" class="p-2 border w-full mb-2 rounded" placeholder="Division">' : ''}
                        ${type === 'staff' ? '<input id="staff_address" class="p-2 border w-full mb-2 rounded" placeholder="Address">' : ''}
                        <button onclick="addData('${type}')" class="w-full mt-2 bg-${color}-500 hover:bg-${color}-600 text-white p-2 rounded transition">Add</button>
                        <p id="${type}_msg" class="mt-2 text-green-700 font-semibold"></p>
                    </div>

                    <!-- GET -->
                    <div class="card flex-1">
                        <h3 class="font-bold text-lg mb-3">Get ${type.charAt(0).toUpperCase() + type.slice(1)}</h3>
                        <input id="${type}_get_id" class="p-2 border w-full mb-2 rounded" placeholder="Enter ID">
                        <button onclick="getData('${type}')" class="w-full mt-2 bg-yellow-500 hover:bg-yellow-600 text-white p-2 rounded transition">Get</button>
                        <div id="${type}_get_result" class="mt-3"></div>
                    </div>

                    <!-- DELETE -->
                    <div class="card flex-1">
                        <h3 class="font-bold text-lg mb-3">Delete ${type.charAt(0).toUpperCase() + type.slice(1)}</h3>
                        <input id="${type}_delete_id" class="p-2 border w-full mb-2 rounded" placeholder="Enter ID">
                        <button onclick="deleteData('${type}')" class="w-full mt-2 bg-red-500 hover:bg-red-600 text-white p-2 rounded transition">Delete</button>
                        <p id="${type}_delete_msg" class="mt-2 text-red-700 font-semibold"></p>
                    </div>

                </div>
            </div>`;
        }

        document.write(createManagementPage('teacher', 'blue'));
        document.write(createManagementPage('student', 'green'));
        document.write(createManagementPage('staff', 'purple'));
    </script>

</body>
</html>
